@page "/areas/details/{id:int}"
@using OurCleanFuture.App.Helpers

@if (_isLoaded == false)
{
    <p><em>Loading...</em></p>
}
else
{
    <MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-16">
        <div class="d-flex">
            <MudText Class="my-2 mr-4" Typo="Typo.h3"><b>Area:</b></MudText>
            <MudAvatar Image="@ImageHelpers.GetAreaIconPath(Area)" Class="mr-2 my-2" Size="Size.Large" />
            <MudText Class="my-2 ml-1" Typo="Typo.h3">@Area.Title</MudText>
        </div>
        <MudGrid Class="mt-1">
            @foreach (var objective in Area.Objectives)
            {
                <MudItem md="12" lg="6">
                    <MudPaper Elevation="2" Class="pa-4">
                        <MudText Typo="Typo.h6">@objective.Title</MudText>
                        <MudList Clickable="true" Dense="true" DisableGutters="true">
                            @foreach (var action in objective.Actions)
                            {
                                <MudListItem Class="px-2" OnClick="(() => ViewAction(action))">
                                    <div class="d-flex">
                                        <MudText Class="mr-2">@(action.Number).</MudText>
                                        <MudText>@action.Title</MudText>
                                    </div>
                                </MudListItem>
                            }
                        </MudList>
                    </MudPaper>
                </MudItem>
            }
        </MudGrid>
    </MudContainer>
}