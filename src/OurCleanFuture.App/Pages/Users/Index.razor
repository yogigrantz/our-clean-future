@page "/admin/users"

@attribute [Authorize]

@if (isLoaded == false)
{
    <MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-16">
        <MudText Typo="Typo.h6">Loading...</MudText>
    </MudContainer>
}
else
{
    <MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-16">
        <MudTabs>
            @foreach (var role in Roles)
            {
                <MudTabPanel Text="@role.Name">
                    <MudTable Items="Users.Where(u => u.Roles.Contains(role))" Dense="true" Striped="true" Hover="true">
                    </MudTable>
                </MudTabPanel>
            }
        </MudTabs>
    </MudContainer>
}
